<%- include('../includes/head', {pageTitle: 'New Product'}) %>
<script src="/scripts/image-preview.js" defer></script>
<link rel="stylesheet" href="/styles/form.css">
</head>
<body>
    <%- include('../includes/header') %>
    <main>
        <h1>Update Product</h1>
        <form id="product-form" class="form" method="POST" action="/admin/products/update/<%= product._id.toString()%>?_csrf=<%= locals.csrfToken %>" enctype="multipart/form-data">
            <div class="form-element">
                <label for="title">Title</label>
                <input type="text" name="title" id="title" value="<%= product.title %>" required>
            </div>
            <div class="form-element">
                <label for="image">Image</label>
                <div id="image-upload-control">
                  <input type="file" name="image" id="image" accept="image/png,image/jpg">  
                  <img src="" alt="Selected image.">
                </div>
            </div>
            <div class="form-element">
                <label for="price">Price</label>
                <input type="number" name="price" id="price" min="0.01" step="0.01" value="<%= product.price %>" required>
            </div>
            <div class="form-element">
                <label for="description">Description</label>
                <textarea name="description" id="description"><%= product.description %></textarea>
            </div>
            <div id="buttons-div">
                <button type="reset" class="btn-alt anchor">Reset</button>
                <button class="btn anchor">Save</button>
            </div>
        </form>
    </main>
</body>
</html> 